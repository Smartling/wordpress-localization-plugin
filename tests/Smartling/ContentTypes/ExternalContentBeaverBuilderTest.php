<?php

namespace Smartling\Tests\Smartling\ContentTypes;

use Smartling\ContentTypes\ContentTypeHelper;
use Smartling\ContentTypes\ContentTypePluggableInterface;
use Smartling\ContentTypes\ExternalContentBeaverBuilder;
use PHPUnit\Framework\TestCase;
use Smartling\Helpers\PluginHelper;
use Smartling\Helpers\WordpressFunctionProxyHelper;
use Smartling\Submissions\SubmissionEntity;
use Smartling\Submissions\SubmissionManager;

class ExternalContentBeaverBuilderTest extends TestCase {
    private const META_FIELD = 'a:12:{s:13:"6193f131ba868";O:8:"stdClass":5:{s:4:"node";s:13:"6193f131ba868";s:4:"type";s:3:"row";s:6:"parent";N;s:8:"position";i:0;s:8:"settings";O:8:"stdClass":140:{s:5:"width";s:5:"fixed";s:13:"content_width";s:5:"fixed";s:17:"max_content_width";s:0:"";s:22:"max_content_width_unit";s:2:"px";s:11:"full_height";s:7:"default";s:10:"min_height";s:0:"";s:15:"min_height_unit";s:2:"px";s:17:"min_height_medium";s:0:"";s:22:"min_height_medium_unit";s:2:"px";s:21:"min_height_responsive";s:0:"";s:26:"min_height_responsive_unit";s:2:"px";s:17:"content_alignment";s:6:"center";s:10:"text_color";s:0:"";s:10:"link_color";s:0:"";s:11:"hover_color";s:0:"";s:13:"heading_color";s:0:"";s:7:"bg_type";s:4:"none";s:15:"bg_image_source";s:7:"library";s:12:"bg_image_url";s:0:"";s:8:"bg_image";s:0:"";s:12:"bg_image_src";s:0:"";s:15:"bg_image_medium";s:0:"";s:19:"bg_image_medium_src";s:0:"";s:19:"bg_image_responsive";s:0:"";s:23:"bg_image_responsive_src";s:0:"";s:9:"bg_repeat";s:4:"none";s:16:"bg_repeat_medium";s:0:"";s:20:"bg_repeat_responsive";s:0:"";s:11:"bg_position";s:13:"center center";s:18:"bg_position_medium";s:0:"";s:22:"bg_position_responsive";s:0:"";s:13:"bg_x_position";s:0:"";s:18:"bg_x_position_unit";s:1:"%";s:20:"bg_x_position_medium";s:0:"";s:25:"bg_x_position_medium_unit";s:1:"%";s:24:"bg_x_position_responsive";s:0:"";s:29:"bg_x_position_responsive_unit";s:1:"%";s:13:"bg_y_position";s:0:"";s:18:"bg_y_position_unit";s:1:"%";s:20:"bg_y_position_medium";s:0:"";s:25:"bg_y_position_medium_unit";s:1:"%";s:24:"bg_y_position_responsive";s:0:"";s:29:"bg_y_position_responsive_unit";s:1:"%";s:13:"bg_attachment";s:6:"scroll";s:20:"bg_attachment_medium";s:0:"";s:24:"bg_attachment_responsive";s:0:"";s:7:"bg_size";s:5:"cover";s:14:"bg_size_medium";s:0:"";s:18:"bg_size_responsive";s:0:"";s:15:"bg_video_source";s:9:"wordpress";s:8:"bg_video";s:0:"";s:13:"bg_video_webm";s:0:"";s:16:"bg_video_url_mp4";s:0:"";s:17:"bg_video_url_webm";s:0:"";s:20:"bg_video_service_url";s:0:"";s:14:"bg_video_audio";s:2:"no";s:15:"bg_video_mobile";s:2:"no";s:17:"bg_video_fallback";s:0:"";s:21:"bg_video_fallback_src";s:0:"";s:9:"ss_source";s:9:"wordpress";s:9:"ss_photos";s:0:"";s:11:"ss_feed_url";s:0:"";s:8:"ss_speed";s:1:"3";s:13:"ss_transition";s:4:"fade";s:21:"ss_transitionDuration";s:1:"1";s:12:"ss_randomize";s:5:"false";s:17:"bg_parallax_image";s:0:"";s:21:"bg_parallax_image_src";s:0:"";s:17:"bg_parallax_speed";s:4:"fast";s:15:"bg_overlay_type";s:5:"color";s:16:"bg_overlay_color";s:0:"";s:19:"bg_overlay_gradient";s:0:"";s:8:"bg_color";s:0:"";s:11:"bg_gradient";s:0:"";s:13:"bg_embed_code";s:0:"";s:6:"border";s:0:"";s:13:"border_medium";s:0:"";s:17:"border_responsive";s:0:"";s:14:"top_edge_shape";s:0:"";s:14:"top_edge_align";s:10:"top center";s:19:"top_edge_fill_style";s:5:"color";s:19:"top_edge_fill_color";s:3:"aaa";s:26:"top_edge_fill_color_medium";s:0:"";s:30:"top_edge_fill_color_responsive";s:0:"";s:22:"top_edge_fill_gradient";s:0:"";s:18:"top_edge_transform";s:0:"";s:17:"bottom_edge_shape";s:0:"";s:17:"bottom_edge_align";s:13:"bottom center";s:22:"bottom_edge_fill_style";s:5:"color";s:22:"bottom_edge_fill_color";s:3:"aaa";s:29:"bottom_edge_fill_color_medium";s:0:"";s:33:"bottom_edge_fill_color_responsive";s:0:"";s:25:"bottom_edge_fill_gradient";s:0:"";s:21:"bottom_edge_transform";s:0:"";s:18:"container_overflow";s:0:"";s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";s:0:"";s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:19:"top_edge_size_width";s:0:"";s:18:"top_edge_size_unit";s:2:"px";s:20:"top_edge_size_height";s:0:"";s:17:"top_edge_size_top";s:0:"";s:22:"bottom_edge_size_width";s:0:"";s:21:"bottom_edge_size_unit";s:2:"px";s:23:"bottom_edge_size_height";s:0:"";s:20:"bottom_edge_size_top";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:11:"padding_top";s:0:"";s:12:"padding_unit";s:2:"px";s:18:"padding_top_medium";s:0:"";s:19:"padding_medium_unit";s:2:"px";s:22:"padding_top_responsive";s:0:"";s:23:"padding_responsive_unit";s:2:"px";s:13:"padding_right";s:0:"";s:20:"padding_right_medium";s:0:"";s:24:"padding_right_responsive";s:0:"";s:14:"padding_bottom";s:0:"";s:21:"padding_bottom_medium";s:0:"";s:25:"padding_bottom_responsive";s:0:"";s:12:"padding_left";s:0:"";s:19:"padding_left_medium";s:0:"";s:23:"padding_left_responsive";s:0:"";}}s:13:"6193f131bbc63";O:8:"stdClass":5:{s:4:"node";s:13:"6193f131bbc63";s:4:"type";s:12:"column-group";s:6:"parent";s:13:"6193f131ba868";s:8:"position";i:0;s:8:"settings";s:0:"";}s:13:"6193f131bbd19";O:8:"stdClass":5:{s:4:"node";s:13:"6193f131bbd19";s:4:"type";s:6:"column";s:6:"parent";s:13:"6193f131bbc63";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":80:{s:4:"size";i:100;s:11:"size_medium";s:0:"";s:15:"size_responsive";s:0:"";s:10:"min_height";s:0:"";s:15:"min_height_unit";s:2:"px";s:17:"min_height_medium";s:0:"";s:22:"min_height_medium_unit";s:2:"px";s:21:"min_height_responsive";s:0:"";s:26:"min_height_responsive_unit";s:2:"px";s:12:"equal_height";s:2:"no";s:17:"content_alignment";s:3:"top";s:10:"text_color";s:0:"";s:10:"link_color";s:0:"";s:11:"hover_color";s:0:"";s:13:"heading_color";s:0:"";s:7:"bg_type";s:5:"color";s:8:"bg_image";s:0:"";s:12:"bg_image_src";s:0:"";s:15:"bg_image_medium";s:0:"";s:19:"bg_image_medium_src";s:0:"";s:19:"bg_image_responsive";s:0:"";s:23:"bg_image_responsive_src";s:0:"";s:9:"bg_repeat";s:4:"none";s:16:"bg_repeat_medium";s:0:"";s:20:"bg_repeat_responsive";s:0:"";s:11:"bg_position";s:13:"center center";s:18:"bg_position_medium";s:0:"";s:22:"bg_position_responsive";s:0:"";s:13:"bg_attachment";s:6:"scroll";s:20:"bg_attachment_medium";s:0:"";s:24:"bg_attachment_responsive";s:0:"";s:7:"bg_size";s:5:"cover";s:14:"bg_size_medium";s:0:"";s:18:"bg_size_responsive";s:0:"";s:15:"bg_overlay_type";s:5:"color";s:16:"bg_overlay_color";s:0:"";s:19:"bg_overlay_gradient";s:0:"";s:8:"bg_color";s:0:"";s:11:"bg_gradient";s:0:"";s:6:"border";s:0:"";s:13:"border_medium";s:0:"";s:17:"border_responsive";s:0:"";s:18:"responsive_display";s:0:"";s:16:"responsive_order";s:7:"default";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";s:0:"";s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:11:"padding_top";s:0:"";s:12:"padding_unit";s:2:"px";s:18:"padding_top_medium";s:0:"";s:19:"padding_medium_unit";s:2:"px";s:22:"padding_top_responsive";s:0:"";s:23:"padding_responsive_unit";s:2:"px";s:13:"padding_right";s:0:"";s:20:"padding_right_medium";s:0:"";s:24:"padding_right_responsive";s:0:"";s:14:"padding_bottom";s:0:"";s:21:"padding_bottom_medium";s:0:"";s:25:"padding_bottom_responsive";s:0:"";s:12:"padding_left";s:0:"";s:19:"padding_left_medium";s:0:"";s:23:"padding_left_responsive";s:0:"";}}s:13:"6193f131ba779";O:8:"stdClass":5:{s:4:"node";s:13:"6193f131ba779";s:4:"type";s:6:"module";s:6:"parent";s:13:"6193f131bbd19";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":36:{s:7:"heading";s:15:"BB Post Heading";s:3:"tag";s:2:"h2";s:4:"link";s:0:"";s:11:"link_target";s:5:"_self";s:13:"link_nofollow";s:2:"no";s:5:"color";s:0:"";s:10:"typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:17:"typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:21:"typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";a:3:{s:5:"style";s:0:"";s:5:"delay";s:1:"0";s:8:"duration";s:1:"1";}s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:4:"left";s:6:"export";s:0:"";s:6:"import";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:4:"type";s:7:"heading";s:11:"link-search";s:0:"";s:21:"as_values_link-search";s:0:"";}}s:13:"6193f15381715";O:8:"stdClass":5:{s:4:"node";s:13:"6193f15381715";s:4:"type";s:12:"column-group";s:6:"parent";s:13:"6193f131bbd19";s:8:"position";i:1;s:8:"settings";s:0:"";}s:13:"6193f153817bc";O:8:"stdClass":5:{s:4:"node";s:13:"6193f153817bc";s:4:"type";s:6:"column";s:6:"parent";s:13:"6193f15381715";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":80:{s:4:"size";d:33.33;s:11:"size_medium";s:0:"";s:15:"size_responsive";s:0:"";s:10:"min_height";s:0:"";s:15:"min_height_unit";s:2:"px";s:17:"min_height_medium";s:0:"";s:22:"min_height_medium_unit";s:2:"px";s:21:"min_height_responsive";s:0:"";s:26:"min_height_responsive_unit";s:2:"px";s:12:"equal_height";s:2:"no";s:17:"content_alignment";s:3:"top";s:10:"text_color";s:0:"";s:10:"link_color";s:0:"";s:11:"hover_color";s:0:"";s:13:"heading_color";s:0:"";s:7:"bg_type";s:5:"color";s:8:"bg_image";s:0:"";s:12:"bg_image_src";s:0:"";s:15:"bg_image_medium";s:0:"";s:19:"bg_image_medium_src";s:0:"";s:19:"bg_image_responsive";s:0:"";s:23:"bg_image_responsive_src";s:0:"";s:9:"bg_repeat";s:4:"none";s:16:"bg_repeat_medium";s:0:"";s:20:"bg_repeat_responsive";s:0:"";s:11:"bg_position";s:13:"center center";s:18:"bg_position_medium";s:0:"";s:22:"bg_position_responsive";s:0:"";s:13:"bg_attachment";s:6:"scroll";s:20:"bg_attachment_medium";s:0:"";s:24:"bg_attachment_responsive";s:0:"";s:7:"bg_size";s:5:"cover";s:14:"bg_size_medium";s:0:"";s:18:"bg_size_responsive";s:0:"";s:15:"bg_overlay_type";s:5:"color";s:16:"bg_overlay_color";s:0:"";s:19:"bg_overlay_gradient";s:0:"";s:8:"bg_color";s:0:"";s:11:"bg_gradient";s:0:"";s:6:"border";s:0:"";s:13:"border_medium";s:0:"";s:17:"border_responsive";s:0:"";s:18:"responsive_display";s:0:"";s:16:"responsive_order";s:7:"default";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";s:0:"";s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:11:"padding_top";s:0:"";s:12:"padding_unit";s:2:"px";s:18:"padding_top_medium";s:0:"";s:19:"padding_medium_unit";s:2:"px";s:22:"padding_top_responsive";s:0:"";s:23:"padding_responsive_unit";s:2:"px";s:13:"padding_right";s:0:"";s:20:"padding_right_medium";s:0:"";s:24:"padding_right_responsive";s:0:"";s:14:"padding_bottom";s:0:"";s:21:"padding_bottom_medium";s:0:"";s:25:"padding_bottom_responsive";s:0:"";s:12:"padding_left";s:0:"";s:19:"padding_left_medium";s:0:"";s:23:"padding_left_responsive";s:0:"";}}s:13:"6193f153817bf";O:8:"stdClass":5:{s:4:"node";s:13:"6193f153817bf";s:4:"type";s:6:"column";s:6:"parent";s:13:"6193f15381715";s:8:"position";i:1;s:8:"settings";O:8:"stdClass":80:{s:4:"size";d:33.33;s:11:"size_medium";s:0:"";s:15:"size_responsive";s:0:"";s:10:"min_height";s:0:"";s:15:"min_height_unit";s:2:"px";s:17:"min_height_medium";s:0:"";s:22:"min_height_medium_unit";s:2:"px";s:21:"min_height_responsive";s:0:"";s:26:"min_height_responsive_unit";s:2:"px";s:12:"equal_height";s:2:"no";s:17:"content_alignment";s:3:"top";s:10:"text_color";s:0:"";s:10:"link_color";s:0:"";s:11:"hover_color";s:0:"";s:13:"heading_color";s:0:"";s:7:"bg_type";s:5:"color";s:8:"bg_image";s:0:"";s:12:"bg_image_src";s:0:"";s:15:"bg_image_medium";s:0:"";s:19:"bg_image_medium_src";s:0:"";s:19:"bg_image_responsive";s:0:"";s:23:"bg_image_responsive_src";s:0:"";s:9:"bg_repeat";s:4:"none";s:16:"bg_repeat_medium";s:0:"";s:20:"bg_repeat_responsive";s:0:"";s:11:"bg_position";s:13:"center center";s:18:"bg_position_medium";s:0:"";s:22:"bg_position_responsive";s:0:"";s:13:"bg_attachment";s:6:"scroll";s:20:"bg_attachment_medium";s:0:"";s:24:"bg_attachment_responsive";s:0:"";s:7:"bg_size";s:5:"cover";s:14:"bg_size_medium";s:0:"";s:18:"bg_size_responsive";s:0:"";s:15:"bg_overlay_type";s:5:"color";s:16:"bg_overlay_color";s:0:"";s:19:"bg_overlay_gradient";s:0:"";s:8:"bg_color";s:0:"";s:11:"bg_gradient";s:0:"";s:6:"border";s:0:"";s:13:"border_medium";s:0:"";s:17:"border_responsive";s:0:"";s:18:"responsive_display";s:0:"";s:16:"responsive_order";s:7:"default";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";s:0:"";s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:11:"padding_top";s:0:"";s:12:"padding_unit";s:2:"px";s:18:"padding_top_medium";s:0:"";s:19:"padding_medium_unit";s:2:"px";s:22:"padding_top_responsive";s:0:"";s:23:"padding_responsive_unit";s:2:"px";s:13:"padding_right";s:0:"";s:20:"padding_right_medium";s:0:"";s:24:"padding_right_responsive";s:0:"";s:14:"padding_bottom";s:0:"";s:21:"padding_bottom_medium";s:0:"";s:25:"padding_bottom_responsive";s:0:"";s:12:"padding_left";s:0:"";s:19:"padding_left_medium";s:0:"";s:23:"padding_left_responsive";s:0:"";}}s:13:"6193f153817c2";O:8:"stdClass":5:{s:4:"node";s:13:"6193f153817c2";s:4:"type";s:6:"column";s:6:"parent";s:13:"6193f15381715";s:8:"position";i:2;s:8:"settings";O:8:"stdClass":80:{s:4:"size";d:33.33;s:11:"size_medium";s:0:"";s:15:"size_responsive";s:0:"";s:10:"min_height";s:0:"";s:15:"min_height_unit";s:2:"px";s:17:"min_height_medium";s:0:"";s:22:"min_height_medium_unit";s:2:"px";s:21:"min_height_responsive";s:0:"";s:26:"min_height_responsive_unit";s:2:"px";s:12:"equal_height";s:2:"no";s:17:"content_alignment";s:3:"top";s:10:"text_color";s:0:"";s:10:"link_color";s:0:"";s:11:"hover_color";s:0:"";s:13:"heading_color";s:0:"";s:7:"bg_type";s:5:"color";s:8:"bg_image";s:0:"";s:12:"bg_image_src";s:0:"";s:15:"bg_image_medium";s:0:"";s:19:"bg_image_medium_src";s:0:"";s:19:"bg_image_responsive";s:0:"";s:23:"bg_image_responsive_src";s:0:"";s:9:"bg_repeat";s:4:"none";s:16:"bg_repeat_medium";s:0:"";s:20:"bg_repeat_responsive";s:0:"";s:11:"bg_position";s:13:"center center";s:18:"bg_position_medium";s:0:"";s:22:"bg_position_responsive";s:0:"";s:13:"bg_attachment";s:6:"scroll";s:20:"bg_attachment_medium";s:0:"";s:24:"bg_attachment_responsive";s:0:"";s:7:"bg_size";s:5:"cover";s:14:"bg_size_medium";s:0:"";s:18:"bg_size_responsive";s:0:"";s:15:"bg_overlay_type";s:5:"color";s:16:"bg_overlay_color";s:0:"";s:19:"bg_overlay_gradient";s:0:"";s:8:"bg_color";s:0:"";s:11:"bg_gradient";s:0:"";s:6:"border";s:0:"";s:13:"border_medium";s:0:"";s:17:"border_responsive";s:0:"";s:18:"responsive_display";s:0:"";s:16:"responsive_order";s:7:"default";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";s:0:"";s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:11:"padding_top";s:0:"";s:12:"padding_unit";s:2:"px";s:18:"padding_top_medium";s:0:"";s:19:"padding_medium_unit";s:2:"px";s:22:"padding_top_responsive";s:0:"";s:23:"padding_responsive_unit";s:2:"px";s:13:"padding_right";s:0:"";s:20:"padding_right_medium";s:0:"";s:24:"padding_right_responsive";s:0:"";s:14:"padding_bottom";s:0:"";s:21:"padding_bottom_medium";s:0:"";s:25:"padding_bottom_responsive";s:0:"";s:12:"padding_left";s:0:"";s:19:"padding_left_medium";s:0:"";s:23:"padding_left_responsive";s:0:"";}}s:13:"6193f16fdd252";O:8:"stdClass":5:{s:4:"node";s:13:"6193f16fdd252";s:4:"type";s:6:"module";s:6:"parent";s:13:"6193f153817bc";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":32:{s:4:"text";s:19:"BB Left Column Text";s:5:"color";s:0:"";s:10:"typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:17:"typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:21:"typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";a:3:{s:5:"style";s:0:"";s:5:"delay";s:1:"0";s:8:"duration";s:1:"1";}s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:6:"export";s:0:"";s:6:"import";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:4:"type";s:9:"rich-text";s:24:"flrich1637085552022_text";s:0:"";s:24:"flrich1637336309340_text";s:0:"";}}s:13:"6193f17d80559";O:8:"stdClass":5:{s:4:"node";s:13:"6193f17d80559";s:4:"type";s:6:"module";s:6:"parent";s:13:"6193f153817bf";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":98:{s:9:"list_type";s:3:"div";s:7:"ul_icon";s:4:"disc";s:7:"ol_icon";s:7:"decimal";s:8:"div_icon";s:0:"";s:19:"list_icon_placement";s:12:"content_left";s:11:"heading_tag";s:2:"h3";s:11:"content_tag";s:3:"div";s:10:"list_items";a:2:{i:0;O:8:"stdClass":26:{s:14:"list_item_icon";s:0:"";s:7:"heading";s:0:"";s:7:"content";s:34:"<p>BB Middle Column List Item1</p>";s:18:"heading_text_color";s:0:"";s:18:"content_text_color";s:0:"";s:8:"bg_color";s:0:"";s:10:"icon_color";s:0:"";s:21:"list_item_padding_top";s:0:"";s:22:"list_item_padding_unit";s:2:"px";s:28:"list_item_padding_top_medium";s:0:"";s:29:"list_item_padding_medium_unit";s:2:"px";s:32:"list_item_padding_top_responsive";s:0:"";s:33:"list_item_padding_responsive_unit";s:2:"px";s:23:"list_item_padding_right";s:0:"";s:30:"list_item_padding_right_medium";s:0:"";s:34:"list_item_padding_right_responsive";s:0:"";s:24:"list_item_padding_bottom";s:0:"";s:31:"list_item_padding_bottom_medium";s:0:"";s:35:"list_item_padding_bottom_responsive";s:0:"";s:22:"list_item_padding_left";s:0:"";s:29:"list_item_padding_left_medium";s:0:"";s:33:"list_item_padding_left_responsive";s:0:"";s:1:"0";s:0:"";s:27:"flrich1637085571990_content";s:0:"";s:27:"flrich1637332544174_content";s:0:"";s:27:"flrich1637336318129_content";s:0:"";}i:1;O:8:"stdClass":26:{s:14:"list_item_icon";s:0:"";s:7:"heading";s:0:"";s:7:"content";s:34:"<p>BB Middle Column List Item2</p>";s:18:"heading_text_color";s:0:"";s:18:"content_text_color";s:0:"";s:8:"bg_color";s:0:"";s:10:"icon_color";s:0:"";s:21:"list_item_padding_top";s:0:"";s:22:"list_item_padding_unit";s:2:"px";s:28:"list_item_padding_top_medium";s:0:"";s:29:"list_item_padding_medium_unit";s:2:"px";s:32:"list_item_padding_top_responsive";s:0:"";s:33:"list_item_padding_responsive_unit";s:2:"px";s:23:"list_item_padding_right";s:0:"";s:30:"list_item_padding_right_medium";s:0:"";s:34:"list_item_padding_right_responsive";s:0:"";s:24:"list_item_padding_bottom";s:0:"";s:31:"list_item_padding_bottom_medium";s:0:"";s:35:"list_item_padding_bottom_responsive";s:0:"";s:22:"list_item_padding_left";s:0:"";s:29:"list_item_padding_left_medium";s:0:"";s:33:"list_item_padding_left_responsive";s:0:"";s:27:"flrich1637085585311_content";s:0:"";s:27:"flrich1637085597684_content";s:0:"";s:27:"flrich1637336333695_content";s:0:"";s:27:"flrich1637338233697_content";s:0:"";}}s:13:"list_bg_color";s:0:"";s:11:"list_border";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:18:"list_border_medium";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:22:"list_border_responsive";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:10:"icon_color";s:0:"";s:9:"icon_size";i:10;s:10:"icon_width";i:0;s:13:"heading_color";s:0:"";s:18:"heading_typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:25:"heading_typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:29:"heading_typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:13:"content_color";s:0:"";s:18:"content_typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:25:"content_typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:29:"content_typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:15:"separator_style";s:4:"none";s:15:"separator_color";s:0:"";s:14:"separator_size";i:0;s:21:"separator_size_medium";s:0:"";s:25:"separator_size_responsive";s:0:"";s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";a:3:{s:5:"style";s:0:"";s:5:"delay";s:1:"0";s:8:"duration";s:1:"1";}s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:6:"export";s:0:"";s:6:"import";s:0:"";s:16:"list_padding_top";s:1:"0";s:17:"list_padding_unit";s:2:"px";s:23:"list_padding_top_medium";s:0:"";s:24:"list_padding_medium_unit";s:2:"px";s:27:"list_padding_top_responsive";s:0:"";s:28:"list_padding_responsive_unit";s:2:"px";s:18:"list_padding_right";s:1:"0";s:25:"list_padding_right_medium";s:0:"";s:29:"list_padding_right_responsive";s:0:"";s:19:"list_padding_bottom";s:1:"0";s:26:"list_padding_bottom_medium";s:0:"";s:30:"list_padding_bottom_responsive";s:0:"";s:17:"list_padding_left";s:1:"0";s:24:"list_padding_left_medium";s:0:"";s:28:"list_padding_left_responsive";s:0:"";s:28:"common_list_item_padding_top";s:1:"0";s:29:"common_list_item_padding_unit";s:2:"px";s:35:"common_list_item_padding_top_medium";s:0:"";s:36:"common_list_item_padding_medium_unit";s:2:"px";s:39:"common_list_item_padding_top_responsive";s:0:"";s:40:"common_list_item_padding_responsive_unit";s:2:"px";s:30:"common_list_item_padding_right";s:1:"0";s:37:"common_list_item_padding_right_medium";s:0:"";s:41:"common_list_item_padding_right_responsive";s:0:"";s:31:"common_list_item_padding_bottom";s:1:"0";s:38:"common_list_item_padding_bottom_medium";s:0:"";s:42:"common_list_item_padding_bottom_responsive";s:0:"";s:29:"common_list_item_padding_left";s:1:"0";s:36:"common_list_item_padding_left_medium";s:0:"";s:40:"common_list_item_padding_left_responsive";s:0:"";s:16:"icon_padding_top";s:1:"0";s:17:"icon_padding_unit";s:2:"px";s:23:"icon_padding_top_medium";s:0:"";s:24:"icon_padding_medium_unit";s:2:"px";s:27:"icon_padding_top_responsive";s:0:"";s:28:"icon_padding_responsive_unit";s:2:"px";s:18:"icon_padding_right";s:1:"0";s:25:"icon_padding_right_medium";s:0:"";s:29:"icon_padding_right_responsive";s:0:"";s:19:"icon_padding_bottom";s:1:"0";s:26:"icon_padding_bottom_medium";s:0:"";s:30:"icon_padding_bottom_responsive";s:0:"";s:17:"icon_padding_left";s:1:"0";s:24:"icon_padding_left_medium";s:0:"";s:28:"icon_padding_left_responsive";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:4:"type";s:4:"list";}}s:13:"6197c522ee623";O:8:"stdClass":5:{s:4:"node";s:13:"6197c522ee623";s:4:"type";s:6:"module";s:6:"parent";s:13:"6193f153817c2";s:8:"position";i:0;s:8:"settings";O:8:"stdClass":33:{s:4:"text";s:280:"BB Right Column Text with caption and image

[caption id="attachment_629" align="alignnone" width="300"]<img class="size-medium wp-image-629" src="http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-300x200.jpg" alt="" width="300" height="200" /> Cat smirk[/caption]";s:5:"color";s:0:"";s:10:"typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:17:"typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:21:"typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";a:3:{s:5:"style";s:0:"";s:5:"delay";s:1:"0";s:8:"duration";s:1:"1";}s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:6:"export";s:0:"";s:6:"import";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:4:"type";s:9:"rich-text";s:24:"flrich1637336355113_text";s:0:"";s:24:"flrich1637411771526_text";s:0:"";s:24:"flrich1637753971626_text";s:0:"";}}s:13:"619e24a15de7e";O:8:"stdClass":5:{s:4:"node";s:13:"619e24a15de7e";s:4:"type";s:6:"module";s:6:"parent";s:13:"6193f131bbd19";s:8:"position";i:2;s:8:"settings";O:8:"stdClass":56:{s:12:"photo_source";s:7:"library";s:5:"photo";s:3:"629";s:9:"photo_src";s:69:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk.jpg";s:9:"photo_url";s:0:"";s:11:"title_hover";s:2:"no";s:9:"url_title";s:0:"";s:12:"show_caption";s:1:"0";s:7:"caption";s:0:"";s:9:"link_type";s:0:"";s:8:"link_url";s:0:"";s:15:"link_url_target";s:5:"_self";s:17:"link_url_nofollow";s:2:"no";s:4:"crop";s:0:"";s:5:"width";s:0:"";s:10:"width_unit";s:2:"px";s:12:"width_medium";s:0:"";s:17:"width_medium_unit";s:2:"px";s:16:"width_responsive";s:0:"";s:21:"width_responsive_unit";s:2:"px";s:5:"align";s:6:"center";s:12:"align_medium";s:0:"";s:16:"align_responsive";s:0:"";s:6:"border";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:13:"border_medium";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:17:"border_responsive";a:5:{s:5:"style";s:0:"";s:5:"color";s:0:"";s:5:"width";a:4:{s:3:"top";s:0:"";s:5:"right";s:0:"";s:6:"bottom";s:0:"";s:4:"left";s:0:"";}s:6:"radius";a:4:{s:8:"top_left";s:0:"";s:9:"top_right";s:0:"";s:11:"bottom_left";s:0:"";s:12:"bottom_right";s:0:"";}s:6:"shadow";a:5:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";s:6:"spread";s:0:"";}}s:18:"caption_typography";a:11:{s:11:"font_family";s:7:"Default";s:11:"font_weight";s:7:"default";s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:25:"caption_typography_medium";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:29:"caption_typography_responsive";a:9:{s:9:"font_size";a:2:{s:6:"length";s:0:"";s:4:"unit";s:2:"px";}s:11:"line_height";a:2:{s:6:"length";s:0:"";s:4:"unit";s:0:"";}s:10:"text_align";s:0:"";s:14:"letter_spacing";a:1:{s:6:"length";s:0:"";}s:14:"text_transform";s:0:"";s:15:"text_decoration";s:0:"";s:10:"font_style";s:0:"";s:12:"font_variant";s:0:"";s:11:"text_shadow";a:4:{s:5:"color";s:0:"";s:10:"horizontal";s:0:"";s:8:"vertical";s:0:"";s:4:"blur";s:0:"";}}s:18:"responsive_display";s:0:"";s:18:"visibility_display";s:0:"";s:26:"visibility_user_capability";s:0:"";s:9:"animation";a:3:{s:5:"style";s:0:"";s:5:"delay";s:1:"0";s:8:"duration";s:1:"1";}s:17:"container_element";s:3:"div";s:2:"id";s:0:"";s:5:"class";s:0:"";s:6:"export";s:0:"";s:6:"import";s:0:"";s:10:"margin_top";s:0:"";s:11:"margin_unit";s:2:"px";s:17:"margin_top_medium";s:0:"";s:18:"margin_medium_unit";s:2:"px";s:21:"margin_top_responsive";s:0:"";s:22:"margin_responsive_unit";s:2:"px";s:12:"margin_right";s:0:"";s:19:"margin_right_medium";s:0:"";s:23:"margin_right_responsive";s:0:"";s:13:"margin_bottom";s:0:"";s:20:"margin_bottom_medium";s:0:"";s:24:"margin_bottom_responsive";s:0:"";s:11:"margin_left";s:0:"";s:18:"margin_left_medium";s:0:"";s:22:"margin_left_responsive";s:0:"";s:4:"type";s:5:"photo";s:4:"data";O:8:"stdClass":33:{s:2:"id";i:629;s:5:"title";s:9:"cat-smirk";s:8:"filename";s:13:"cat-smirk.jpg";s:3:"url";s:69:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk.jpg";s:4:"link";s:47:"http://localhost.localdomain/?attachment_id=629";s:3:"alt";s:0:"";s:6:"author";s:1:"1";s:11:"description";s:0:"";s:7:"caption";s:9:"Cat smirk";s:4:"name";s:9:"cat-smirk";s:6:"status";s:7:"inherit";s:10:"uploadedTo";i:627;s:4:"date";i:1637085643000;s:8:"modified";i:1637085654000;s:9:"menuOrder";i:0;s:4:"mime";s:10:"image/jpeg";s:4:"type";s:5:"image";s:7:"subtype";s:4:"jpeg";s:4:"icon";s:65:"http://localhost.localdomain/wp-includes/images/media/default.png";s:13:"dateFormatted";s:17:"November 16, 2021";s:6:"nonces";O:8:"stdClass":3:{s:6:"update";s:10:"c07151e50d";s:6:"delete";s:10:"45b473fdf3";s:4:"edit";s:10:"ec81993b64";}s:8:"editLink";s:67:"http://localhost.localdomain/wp-admin/post.php?post=629&action=edit";s:4:"meta";b:0;s:10:"authorName";s:8:"vsolovei";s:14:"uploadedToLink";s:67:"http://localhost.localdomain/wp-admin/post.php?post=627&action=edit";s:15:"uploadedToTitle";s:4:"Test";s:15:"filesizeInBytes";i:94248;s:21:"filesizeHumanReadable";s:5:"92 KB";s:7:"context";s:0:"";s:6:"height";i:853;s:5:"width";i:1280;s:11:"orientation";s:9:"landscape";s:5:"sizes";O:8:"stdClass":4:{s:9:"thumbnail";O:8:"stdClass":4:{s:6:"height";i:150;s:5:"width";i:150;s:3:"url";s:77:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-150x150.jpg";s:11:"orientation";s:9:"landscape";}s:6:"medium";O:8:"stdClass":4:{s:6:"height";i:200;s:5:"width";i:300;s:3:"url";s:77:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-300x200.jpg";s:11:"orientation";s:9:"landscape";}s:5:"large";O:8:"stdClass":4:{s:6:"height";i:386;s:5:"width";i:580;s:3:"url";s:78:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-1024x682.jpg";s:11:"orientation";s:9:"landscape";}s:4:"full";O:8:"stdClass":4:{s:3:"url";s:69:"http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk.jpg";s:6:"height";i:853;s:5:"width";i:1280;s:11:"orientation";s:9:"landscape";}}}s:15:"link_url-search";s:0:"";s:25:"as_values_link_url-search";s:0:"";}}}';

    public function testCanHandle()
    {
        $pluginPath = 'bb-plugin/fl-builder.php';
        $proxy = $this->createMock(WordpressFunctionProxyHelper::class);
        $proxy->method('getPostMeta')->willReturn('', []);
        $proxy->method('get_plugins')->willReturn([$pluginPath => []]);
        $proxy->method('is_plugin_active')->willReturn(true);
        $this->assertEquals(ContentTypePluggableInterface::NOT_SUPPORTED, $this->getExternalContentBeaverBuilder($proxy)->getSupportLevel('post', 1));
        $this->assertEquals(ContentTypePluggableInterface::SUPPORTED, $this->getExternalContentBeaverBuilder($proxy)->getSupportLevel('post', 1));
    }

    /**
     * @dataProvider extractDataProvider
     */
    public function testExtractData(array $meta, array $expectedStrings, array $expectedRelatedContent)
    {
        $proxy = $this->createMock(WordpressFunctionProxyHelper::class);
        $proxy->method('getPostMeta')->willReturn($meta);
        $this->assertEquals($expectedStrings, $this->getExternalContentBeaverBuilder($proxy)->getContentFields($this->createMock(SubmissionEntity::class), false));
        $this->assertEquals($expectedRelatedContent, $this->getExternalContentBeaverBuilder($proxy)->getRelatedContent('', 0));
    }

    public function extractDataProvider(): array
    {
        return [
            [
                unserialize('a:0:{}'),
                [],
                [],
            ],
            [
                unserialize(self::META_FIELD),
                [
                    '6193f131bbc63/settings' => '',
                    '6193f131ba779/settings/heading' => 'BB Post Heading',
                    '6193f15381715/settings' => '',
                    '6193f16fdd252/settings/text' => 'BB Left Column Text',
                    '6193f17d80559/settings/list_items/0/heading' => '',
                    '6193f17d80559/settings/list_items/0/content' => '<p>BB Middle Column List Item1</p>',
                    '6193f17d80559/settings/list_items/0/0' => '',
                    '6193f17d80559/settings/list_items/1/heading' => '',
                    '6193f17d80559/settings/list_items/1/content' => '<p>BB Middle Column List Item2</p>',
                    '6197c522ee623/settings/text' => 'BB Right Column Text with caption and image

[caption id="attachment_629" align="alignnone" width="300"]<img class="size-medium wp-image-629" src="http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-300x200.jpg" alt="" width="300" height="200" /> Cat smirk[/caption]',
                    '619e24a15de7e/settings/photo' => '629',
                    '619e24a15de7e/settings/url_title' => '',
                    '619e24a15de7e/settings/data/caption' => 'Cat smirk',
                ],
                ['attachment' => [629]],
            ]
        ];
    }

    public function testAlterContentFieldsForUpload()
    {
        $this->assertEquals([
            'entity' => [],
            'meta' => ['x' => 'relevant'],
        ], $this->getExternalContentBeaverBuilder()->alterContentFieldsForUpload([
            'entity' => [
                'post_content' => 'irrelevant',
            ],
            'meta' => [
                'x' => 'relevant',
                '_fl_builder_data' => 'irrelevant',
                '_fl_builder_data_settings' => 'irrelevant',
                '_fl_builder_draft' => 'irrelevant',
                '_fl_builder_draft_settings' => 'irrelevant',
                '_fl_builder_history_state' => 'irrelevant',
                '_fl_builder_history_state_100500' => 'irrelevant',
                '_fl_builder_history_position' => 'irrelevant',
            ]
        ]));
    }

    private function getExternalContentBeaverBuilder(?WordpressFunctionProxyHelper $proxy = null, ?SubmissionManager $submissionManager = null): ExternalContentBeaverBuilder
    {
        if ($proxy === null) {
            $proxy = new WordpressFunctionProxyHelper();
        }
        if ($submissionManager === null) {
            $submissionManager = $this->createMock(SubmissionManager::class);
        }
        $contentTypeHelper = $this->createMock(ContentTypeHelper::class);;
        $contentTypeHelper->method('isPost')->willReturn(true);
        $pluginHelper = $this->createMock(PluginHelper::class);
        $pluginHelper->method('versionInRange')->willReturn(true);

        return new ExternalContentBeaverBuilder($contentTypeHelper, $pluginHelper, $submissionManager, $proxy);
    }

    public function testMergeData()
    {
        $sourceAttachmentId = 629;
        $sourceBlogId = 1;
        $targetAttachmentId = 17;
        $targetBlogId = 2;
        $foundSubmission = $this->createMock(SubmissionEntity::class);
        $foundSubmission->method('getTargetId')->willReturn($targetAttachmentId);
        $translatedSubmission = $this->createMock(SubmissionEntity::class);
        $translatedSubmission->method('getSourceBlogId')->willReturn($sourceBlogId);
        $translatedSubmission->method('getTargetBlogId')->willReturn($targetBlogId);
        $submissionManager = $this->createMock(SubmissionManager::class);
        $submissionManager->expects($this->once())->method('findOne')->with([
            SubmissionEntity::FIELD_CONTENT_TYPE => ContentTypeHelper::POST_TYPE_ATTACHMENT,
            SubmissionEntity::FIELD_SOURCE_BLOG_ID => $sourceBlogId,
            SubmissionEntity::FIELD_TARGET_BLOG_ID => $targetBlogId,
            SubmissionEntity::FIELD_SOURCE_ID => $sourceAttachmentId,
        ])->willReturn($foundSubmission);

        $x = $this->getExternalContentBeaverBuilder(null, $submissionManager);

        $this->assertEquals(
            ['meta' => ['_fl_builder_data' => [], '_fl_builder_data_settings' => 'a:0:{}']],
            $x->setContentFields(['meta' => ['_fl_builder_data' => 'a:0:{}', '_fl_builder_data_settings' => 'a:0:{}']], [], $this->createMock(SubmissionEntity::class))
        );

        $longTextTranslated = 'Translated right column [caption id="attachment_629" align="alignnone" width="300"]<img class="size-medium wp-image-629" src="http://localhost.localdomain/wp-content/uploads/2021/11/cat-smirk-300x200.jpg" alt="" width="300" height="200" /> Cat smirk translated[/caption]';
        $expected = unserialize(self::META_FIELD);
        $expected['6193f131ba779']->settings->heading = 'BB Post Heading Translated';
        $expected['6193f16fdd252']->settings->text = 'BB Left Column Text Translated';
        $expected['6193f17d80559']->settings->list_items[0]->content = '<p>BB Middle Column List Item1 Translated</p>';
        $expected['6193f17d80559']->settings->list_items[1]->content = '<p>BB Middle Column List Item2 Translated</p>';
        $expected['6197c522ee623']->settings->text = $longTextTranslated;
        $expected['619e24a15de7e']->settings->data->caption = 'Cat smirk Kek';
        $expected['619e24a15de7e']->settings->data->id = $targetAttachmentId;

        $this->assertEquals(
            ['meta' => ['_fl_builder_data' => $expected, '_fl_builder_data_settings' => 'a:0:{}']],
            $x->setContentFields(['meta' => ['_fl_builder_data' => self::META_FIELD, '_fl_builder_data_settings' => 'a:0:{}']], [$x->getPluginId() => [
                '6193f131ba779' => ['settings' => ['heading' => 'BB Post Heading Translated']],
                '6193f16fdd252' => ['settings' => ['text' => 'BB Left Column Text Translated']],
                '6193f17d80559' => ['settings' => ['list_items' => [
                    0 => ['content' => '<p>BB Middle Column List Item1 Translated</p>'],
                    1 => ['content' => '<p>BB Middle Column List Item2 Translated</p>'],
                ]]],
                '6197c522ee623' => ['settings' => ['text' => $longTextTranslated,]],
                '619e24a15de7e' => ['settings' => ['data' => ['caption' => 'Cat smirk Kek']]],
        ]], $translatedSubmission));
    }
}
